<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Judging Data: Data Intellectual Property Rights in Chinese Courts - The Game!</title>
    <meta name="description" content="An interactive game based on the academic paper 'Judging Data: Critical Discourse and the Rise of Data Intellectual Property Rights in Chinese Courts' by Dr. Chanhou Lou.">
    <meta name="keywords" content="China intellectual property, Chinese data rights, Digital intellectual property rights China, Sino-judicial activism, Data governance China, DIPR, BCC, Chinese courts, Data law China">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Lora:ital,wght@0,400;0,600;1,400&family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        h1, h2, h3, .font-game {
            font-family: 'Press Start 2P', cursive;
        }
        .content-section {
            scroll-margin-top: 80px;
        }
        .game-button {
            transition: all 0.2s ease-in-out;
            border-bottom-width: 4px;
        }
        .game-button:hover {
            transform: translateY(-2px);
            filter: brightness(1.1);
        }
        .game-button:active {
            transform: translateY(2px);
            border-bottom-width: 2px;
        }
        .animated-gradient {
            background: linear-gradient(270deg, #4f46e5, #ec4899, #f59e0b, #10b981);
            background-size: 800% 800%;
            animation: gradient-animation 18s ease infinite;
        }
        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        #evidence-modal {
            transition: opacity 0.3s ease;
        }
        .stats-bar {
            transition: width 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200">

    <!-- Header & Navigation -->
    <header class="bg-gray-900/80 backdrop-blur-lg sticky top-0 z-50 border-b border-gray-700">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div class="text-lg text-yellow-300">
                <a href="#" class="font-game hover:text-white">Judging Data: The Game!</a>
            </div>
            <div class="flex items-center space-x-4">
                <div class="hidden md:flex items-center space-x-6 text-sm font-medium text-gray-400">
                    <a href="#about" class="hover:text-white transition-colors">The Lowdown</a>
                     <a href="#concepts" class="hover:text-white transition-colors">Key Concepts</a>
                    <a href="#game" class="hover:text-white transition-colors">The Trial</a>
                    <a href="#author" class="hover:text-white transition-colors">The Mastermind</a>
                </div>
                <a href="#game" class="game-button bg-yellow-400 border-yellow-600 text-gray-900 font-bold py-2 px-4 rounded-lg text-sm shadow-lg">Start Trial</a>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-12">
        
        <!-- Hero Section -->
        <div class="text-center mb-16">
            <h1 class="text-4xl md:text-6xl text-white leading-tight animated-gradient text-transparent bg-clip-text">You Be The Judge!</h1>
            <p class="mt-4 text-lg text-gray-400 max-w-2xl mx-auto">An interactive game based on the paper <br><strong>"Judging Data: Critical Discourse and the Rise of Data Intellectual Property Rights in Chinese Courts"</strong></p>
            <p class="mt-4 text-lg text-gray-400 max-w-2xl mx-auto">Can you navigate the legal waters of data rights in China? Your gavel awaits. Don't mess it up.</p>
        </div>

        <div class="max-w-4xl mx-auto">
            
            <!-- The Lowdown Section -->
            <section id="about" class="content-section mb-16 bg-gray-800 p-8 rounded-lg shadow-lg border border-gray-700">
                <h2 class="text-3xl mb-4 text-center text-yellow-300">The Lowdown</h2>
                <p class="text-center text-gray-300">So, what's this all about? This game is based on academic research into how Chinese judges are making up the rules for "who owns data" as they go. It's a wild west of digital law, and the judges are the sheriffs. They use two main moves: some stick to the old law books (<span class="text-cyan-400 font-semibold">Judicial Continuation</span>), while others look at the big picture and national policy (<span class="text-pink-400 font-semibold">Judicial Linkage</span>). This game throws YOU into that courtroom drama.</p>
            </section>

             <!-- Key Concepts Section -->
            <section id="concepts" class="content-section mb-16">
                <h2 class="text-3xl mb-6 text-center text-yellow-300">Key Concepts (Cheat Sheet)</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <h3 class="font-game text-lg text-cyan-400 mb-2">Judicial Continuation</h3>
                        <p class="text-sm text-gray-400">The "Street Fighter" approach. You use existing legal combos (like unfair competition law) and apply them to new opponents (data disputes). It's pragmatic, case-by-case justice.</p>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <h3 class="font-game text-lg text-pink-400 mb-2">Judicial Linkage</h3>
                        <p class="text-sm text-gray-400">The "SimCity" approach. You're not just judging a case, you're building a society! Your rulings connect to national policies, administrative rules, and the grand economic plan.</p>
                    </div>
                     <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <h3 class="font-game text-lg text-green-400 mb-2">DIPR</h3>
                        <p class="text-sm text-gray-400">(Data Intellectual Property Rights) - The treasure everyone's fighting over! Is data a new type of property? Who gets to own it, use it, and sell it? This is the central question of the whole legal drama.</p>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <h3 class="font-game text-lg text-yellow-400 mb-2">Bidirectional Conceptual Coupling (BCC)</h3>
                        <p class="text-sm text-gray-400">The ultimate power move! It's when local courts' "Continuation" ideas get adopted by the Supreme People's Court, who then "Link" them to national policy. The law gets built from the bottom-up AND top-down.</p>
                    </div>
                </div>
            </section>

            <!-- The Game Section -->
            <section id="game" class="content-section my-16">
                <div class="bg-gray-800 text-white p-6 sm:p-8 rounded-lg shadow-2xl border-2 border-yellow-400 relative">
                    <div id="game-container" class="text-center">
                        <!-- Initial State -->
                        <div id="start-screen">
                            <h2 class="text-3xl sm:text-4xl mb-4 text-yellow-300">Judge for a Day!</h2>
                            <p class="mb-8 text-lg text-gray-300">You've been handed the gavel in a landmark case! A huge tech platform (<strong class="text-red-400">DataDynasty Corp</strong>) is suing a smaller data-scraping startup (<strong class="text-green-400">InfoScrappers Inc</strong>). The fate of the digital economy is in your hands. No pressure.</p>
                            <button id="start-game-btn" class="game-button bg-green-500 border-green-700 text-white font-bold py-3 px-8 rounded-lg text-xl shadow-lg">Start the Trial!</button>
                        </div>

                        <!-- Question State (hidden by default) -->
                        <div id="question-screen" class="hidden">
                            <div id="progress-bar-container" class="w-full bg-gray-700 rounded-full h-4 mb-6 border-2 border-gray-600">
                                <div id="progress-bar" class="bg-yellow-400 h-full rounded-full" style="width: 0%; transition: width 0.5s ease;"></div>
                            </div>
                            <h2 id="stage-title" class="text-2xl text-yellow-300 mb-4"></h2>
                            <h3 id="question-text" class="text-xl sm:text-2xl mb-6 text-gray-200 min-h-[100px]"></h3>
                            <div class="mb-6">
                                 <button id="evidence-btn" class="game-button bg-indigo-500 border-indigo-700 text-white font-bold py-2 px-4 rounded-lg text-sm">Examine Evidence</button>
                            </div>
                            <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <!-- Options will be injected by JS -->
                            </div>
                        </div>

                        <!-- Result State (hidden by default) -->
                        <div id="result-screen" class="hidden">
                             <h2 id="result-title" class="text-3xl font-bold mb-4 text-yellow-300"></h2>
                             <p id="result-text" class="mb-4 text-lg text-gray-300"></p>
                             <div id="score-recap" class="text-sm text-gray-400 mb-6"></div>
                             <div id="appeal-section" class="bg-gray-700 p-4 rounded-lg mb-8">
                                <h3 class="text-xl font-game text-yellow-400 mb-2">The Appeal</h3>
                                <p id="appeal-text" class="text-gray-300"></p>
                             </div>
                             
                             <!-- Global Stats Section -->
                             <div id="global-stats-section" class="bg-gray-700 p-4 rounded-lg">
                                 <h3 class="text-xl font-game text-yellow-400 mb-4">How Your Verdict Compares</h3>
                                 <div id="stats-container" class="space-y-3 text-left">
                                     <!-- Stats bars will be injected here -->
                                     <div id="stats-loading" class="text-center text-gray-400">Calculating...</div>
                                 </div>
                             </div>

                             <button id="restart-game-btn" class="mt-8 game-button bg-blue-500 border-blue-700 text-white font-bold py-2 px-6 rounded-lg shadow-lg">Preside Again?</button>
                        </div>
                    </div>
                </div>
            </section>
        
             <!-- Author Bio Section -->
            <section id="author" class="content-section mt-20 pt-10 border-t border-gray-700">
                <div class="max-w-4xl mx-auto bg-gray-800 p-8 rounded-lg shadow-lg flex flex-col sm:flex-row items-center text-center sm:text-left space-y-6 sm:space-y-0 sm:space-x-8">
                    <img src="https://placehold.co/150x150/1F2937/FBBF24?text=8-Bit+Lou" alt="Pixelated portrait of Dr. Chanhou Lou" class="w-32 h-32 rounded-full flex-shrink-0 border-4 border-yellow-400">
                    <div>
                        <h3 class="text-2xl text-yellow-300">The Mastermind</h3>
                        <p class="text-xl font-semibold text-white mt-1">Dr. Chanhou Lou</p>
                        <p class="mt-2 text-gray-400">This legal eagle turned his PhD research into the epic saga you just played. When not writing dense papers on Sino-judicial activism, he's probably a gamer. Probably.</p>
                        <p class="mt-3 text-sm text-yellow-500">
                            <a href="mailto:chlou@um.edu.mo" class="hover:underline">Email Him</a> |
                            <a href="https://doi.org/10.1515/ijdlg-2025-0009" target="_blank" rel="noopener" class="hover:underline">Read the REAL Paper (If You Dare)</a>
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </main>
    
    <!-- Evidence Modal -->
    <div id="evidence-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden opacity-0">
        <div class="bg-gray-800 border-2 border-yellow-400 rounded-lg shadow-2xl p-6 w-full max-w-lg text-left relative">
             <h3 class="font-game text-xl text-yellow-300 mb-4">Case File</h3>
             <p id="evidence-text" class="text-gray-300"></p>
             <button id="close-modal-btn" class="absolute top-4 right-4 text-gray-500 hover:text-white">
                 <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0_0_24_24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
             </button>
        </div>
    </div>


    <!-- Footer -->
    <footer class="bg-gray-900 border-t border-gray-700 mt-16">
        <div class="container mx-auto px-6 py-8 text-center text-sm text-gray-500">
            <p>This game is a fun-filled, highly simplified take on the research of Dr. Chanhou Lou.</p>
            <p class="mt-2">No actual gavels were harmed in the making of this website.</p>
        </div>
    </footer>
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, runTransaction, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // --- Firebase Initialization ---
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : { apiKey: "DEMO", authDomain: "DEMO", projectId: "DEMO" };
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        setLogLevel('debug');

        async function initAuth() {
            try {
                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    await signInWithCustomToken(auth, __initial_auth_token);
                } else {
                    await signInAnonymously(auth);
                }
            } catch (error) {
                console.error("Authentication failed:", error);
            }
        }
        initAuth();
        
        // --- Game Logic ---
        const startScreen = document.getElementById('start-screen');
        const questionScreen = document.getElementById('question-screen');
        const resultScreen = document.getElementById('result-screen');
        const startGameBtn = document.getElementById('start-game-btn');
        const restartGameBtn = document.getElementById('restart-game-btn');

        const stageTitle = document.getElementById('stage-title');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const resultTitle = document.getElementById('result-title');
        const resultText = document.getElementById('result-text');
        const scoreRecap = document.getElementById('score-recap');
        const appealText = document.getElementById('appeal-text');
        const progressBar = document.getElementById('progress-bar');
        
        const evidenceModal = document.getElementById('evidence-modal');
        const evidenceBtn = document.getElementById('evidence-btn');
        const evidenceText = document.getElementById('evidence-text');
        const closeModalBtn = document.getElementById('close-modal-btn');
        
        const statsContainer = document.getElementById('stats-container');
        const statsLoading = document.getElementById('stats-loading');


        const gameData = {
            stages: [
                {
                    id: 'opening',
                    title: 'Stage 1: Opening Arguments',
                    questions: [
                        {
                            text: "DataDynasty's lawyer claims InfoScrappers violated their 'Robots Exclusion Protocol' (the 'no trespassing' sign on their site). How do you view this protocol?",
                            evidence: "The paper notes that while these protocols reduce costs, courts must review if they are being 'weaponized to block competition.' A key case, Qihoo v. Baidu, hinged on this very issue.",
                            options: [
                                { text: "It's a technical rule with legal weight. A violation is a clear sign of unfair competition.", score: { continuation: 2, linkage: 0 } },
                                { text: "It's a private rule. I must first assess its fairness and impact on the market before giving it weight.", score: { continuation: 0, linkage: 2 } }
                            ]
                        },
                        {
                            text: "InfoScrappers argues their service creates new value for consumers from publicly available data. DataDynasty claims it's theft of their curated 'derived data products.' What is the legal nature of this 'derived data'?",
                            evidence: "The Hangzhou Internet Court, in Taobao v. Meijing, created a tripartite framework: 'network user information-original network data-derived data products,' recognizing competitive property interests in the final category.",
                            options: [
                                { text: "It's a product of DataDynasty's intellectual labor and investment. It deserves strong protection.", score: { continuation: 2, linkage: 0 } },
                                { text: "It's just reorganized user data. It's not original enough to be 'property' that can block all other uses.", score: { continuation: -1, linkage: 1 } }
                            ]
                        }
                    ]
                },
                {
                    id: 'evidence',
                    title: 'Stage 2: Examining the Evidence',
                    questions: [
                        {
                            text: "DataDynasty presents evidence of the massive server costs and algorithms they developed. InfoScrappers shows how their tool helps small businesses compete. Which argument carries more weight?",
                            evidence: "Zhejiang courts developed a 'five-factor theory' for data disputes, including 'incentives for innovation' and 'data circulation value.' This requires balancing the interests of incumbents and entrants.",
                            options: [
                                { text: "Protecting the giant's investment is crucial for incentivizing future large-scale innovation.", score: { continuation: 2, linkage: -1 } },
                                { text: "Enabling small players to circulate and use data is more important for a healthy, competitive market.", score: { continuation: 0, linkage: 2 } }
                            ]
                        },
                        {
                            text: "It's revealed that some of the scraped data could indirectly identify users, bordering on personal information. How does this affect your thinking?",
                            evidence: "The paper emphasizes that lawful personal data collection is a prerequisite for data rights claims. The SPC's 'Facial Recognition Interpretation' shows the judiciary proactively setting standards for data privacy *before* addressing property claims.",
                            options: [
                                { text: "This is a major problem for InfoScrappers. You can't build a business on a foundation of questionable data handling.", score: { continuation: 1, linkage: 1 } },
                                { text: "This is a problem for DataDynasty. They are the original collectors and responsible for protecting that user data from being scraped.", score: { continuation: -1, linkage: 1 } }
                            ]
                        }
                    ]
                },
                {
                    id: 'closing',
                    title: 'Stage 3: Closing Arguments & Verdict',
                    questions: [
                        {
                            text: "It's time for the final verdict. What is the core principle of your ruling?",
                            evidence: "This is the ultimate choice. Do you follow the 'conveyor belt' of lower court precedent (Judicial Continuation), or do you align your ruling with the national goal of creating a 'unified domestic market' (Judicial Linkage)?",
                            options: [
                                { text: "Rule narrowly on the principles of unfair competition, building on the logic of previous cases like Taobao v. Meijing.", score: { continuation: 3, linkage: 0 } },
                                { text: "Frame the ruling around national economic policy, preventing monopolies and ensuring a stable digital market for everyone.", score: { continuation: 0, linkage: 3 } }
                            ]
                        }
                    ]
                }
            ],
            results: {
                pragmaticProtector: { 
                    title: "Verdict: The Pragmatic Protector!",
                    text: "You're a judge of action! You see a problem, you apply the lawâ€”even if you have to stretch it a bit. You believe in protecting labor and investment, building the law brick by brick from the courtroom up. You're a classic 'Judicial Continuation' champion.",
                    appeal: "The High Court commends your practical, case-focused reasoning. However, they caution that without considering the broader policy landscape, your rulings might create conflicting standards across the country."
                },
                grandStrategist: { 
                    title: "Verdict: The Grand Strategist!",
                    text: "You're playing 4D chess while others play checkers. Your courtroom is a tool for shaping the national economy. You align with the grand plan, ensuring the market is fair and unified. You're a visionary of 'Judicial Linkage'.",
                    appeal: "The High Court praises your alignment with national strategy. However, they note that by focusing solely on top-down policy, you risk creating laws that are disconnected from the realities of the market and could stifle ground-level innovation."
                },
                balancedJurist: { 
                    title: "Verdict: The Balanced Jurist!",
                    text: "You walk the tightrope between two worlds. You protect innovation but respect the rules. You see the big picture but don't forget the details. You've mastered the art of 'Bidirectional Conceptual Coupling', making you the kind of judge who creates truly lasting legal frameworks.",
                    appeal: "The High Court upholds your verdict entirely! Your ability to merge case-specific facts with national policy is a masterclass in modern jurisprudence. Your ruling becomes a key precedent, perfectly illustrating the principle of BCC."
                }
            }
        };

        let score = { continuation: 0, linkage: 0 };
        let currentStageIndex = 0;
        let currentQuestionIndex = 0;
        const totalQuestions = gameData.stages.reduce((acc, stage) => acc + stage.questions.length, 0);
        let questionsAnswered = 0;

        function startGame() {
            score = { continuation: 0, linkage: 0 };
            currentStageIndex = 0;
            currentQuestionIndex = 0;
            questionsAnswered = 0;
            startScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            questionScreen.classList.remove('hidden');
            updateProgressBar();
            showQuestion();
        }
        
        function updateProgressBar() {
             const progress = (questionsAnswered / totalQuestions) * 100;
             progressBar.style.width = `${progress}%`;
        }
        
        function showQuestion() {
            const stage = gameData.stages[currentStageIndex];
            const question = stage.questions[currentQuestionIndex];

            if (!question) {
                showResult();
                return;
            }

            stageTitle.textContent = stage.title;
            questionText.textContent = question.text;
            evidenceText.textContent = question.evidence;
            optionsContainer.innerHTML = '';
            
            question.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option.text;
                button.classList.add('game-button', 'w-full', 'p-4', 'rounded-lg', 'text-white', 'font-semibold', 'shadow-md', 'text-sm', 'sm:text-base');
                
                if (Math.abs(option.score.continuation) > Math.abs(option.score.linkage)) {
                    button.classList.add('bg-cyan-500', 'border-cyan-700');
                } else if (Math.abs(option.score.linkage) > Math.abs(option.score.continuation)) {
                    button.classList.add('bg-pink-500', 'border-pink-700');
                } else {
                    button.classList.add('bg-purple-500', 'border-purple-700');
                }
                
                button.onclick = () => handleOptionClick(option);
                optionsContainer.appendChild(button);
            });
        }
        
        function handleOptionClick(option) {
            score.continuation += option.score.continuation;
            score.linkage += option.score.linkage;
            questionsAnswered++;
            updateProgressBar();

            currentQuestionIndex++;
            if (currentQuestionIndex >= gameData.stages[currentStageIndex].questions.length) {
                currentQuestionIndex = 0;
                currentStageIndex++;
            }

            if (currentStageIndex >= gameData.stages.length) {
                showResult();
            } else {
                showQuestion();
            }
        }

        async function showResult() {
            let resultType;
            const difference = Math.abs(score.continuation - score.linkage);
            
            if (difference <= 2) {
                resultType = 'balancedJurist';
            } else if (score.continuation > score.linkage) {
                resultType = 'pragmaticProtector';
            } else {
                resultType = 'grandStrategist';
            }

            const result = gameData.results[resultType];
            resultTitle.textContent = result.title;
            resultText.textContent = result.text;
            appealText.textContent = result.appeal;
            
            scoreRecap.innerHTML = `
                Final Judicial Philosophy:<br>
                <span class="text-cyan-400">Judicial Continuation: ${score.continuation}</span> | 
                <span class="text-pink-400">Judicial Linkage: ${score.linkage}</span>
            `;

            questionScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            // --- Firestore Logic ---
            const docRef = doc(db, `artifacts/${appId}/public/data/game_stats`, 'outcomes');
            try {
                const newStats = await runTransaction(db, async (transaction) => {
                    const statsDoc = await transaction.get(docRef);
                    let stats = { pragmaticProtector: 0, grandStrategist: 0, balancedJurist: 0, totalPlays: 0 };
                    if (statsDoc.exists()) {
                        stats = statsDoc.data();
                    }

                    stats[resultType] = (stats[resultType] || 0) + 1;
                    stats.totalPlays = (stats.totalPlays || 0) + 1;

                    transaction.set(docRef, stats);
                    return stats;
                });
                displayGlobalStats(newStats, resultType);
            } catch (e) {
                console.error("Transaction failed: ", e);
                statsLoading.textContent = "Could not load global stats.";
            }
        }
        
        function displayGlobalStats(stats, yourResult) {
            statsLoading.classList.add('hidden');
            statsContainer.innerHTML = ''; 

            const outcomes = [
                { id: 'pragmaticProtector', name: 'Pragmatic Protector', color: 'bg-cyan-500' },
                { id: 'grandStrategist', name: 'Grand Strategist', color: 'bg-pink-500' },
                { id: 'balancedJurist', name: 'Balanced Jurist', color: 'bg-purple-500' }
            ];

            outcomes.forEach(outcome => {
                const count = stats[outcome.id] || 0;
                const percentage = stats.totalPlays > 0 ? ((count / stats.totalPlays) * 100).toFixed(1) : 0;
                
                const wrapper = document.createElement('div');
                const isYourResult = yourResult === outcome.id;

                wrapper.innerHTML = `
                    <div class="flex justify-between items-center mb-1 text-sm ${isYourResult ? 'text-yellow-300 font-bold' : ''}">
                        <span>${outcome.name} ${isYourResult ? '(Your Verdict)' : ''}</span>
                        <span>${percentage}%</span>
                    </div>
                    <div class="w-full bg-gray-600 rounded-full h-4">
                        <div class="stats-bar ${outcome.color} h-4 rounded-full" style="width: 0%"></div>
                    </div>
                `;
                statsContainer.appendChild(wrapper);
                
                // Animate the bar width
                setTimeout(() => {
                    wrapper.querySelector('.stats-bar').style.width = `${percentage}%`;
                }, 100);
            });
        }


        function showModal() {
            evidenceModal.classList.remove('hidden');
            setTimeout(() => evidenceModal.classList.remove('opacity-0'), 10);
        }

        function hideModal() {
             evidenceModal.classList.add('opacity-0');
             setTimeout(() => evidenceModal.classList.add('hidden'), 300);
        }

        startGameBtn.addEventListener('click', startGame);
        restartGameBtn.addEventListener('click', startGame);
        evidenceBtn.addEventListener('click', showModal);
        closeModalBtn.addEventListener('click', hideModal);
        evidenceModal.addEventListener('click', (e) => {
            if (e.target === evidenceModal) {
                hideModal();
            }
        });

    </script>

</body>
</html>






